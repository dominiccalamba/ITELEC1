package com.example.androiduilab5; 

import androidx.appcompat.app.AppCompatActivity; 

import android.os.Bundle; 

import android.widget.Button; 

import android.widget.ImageSwitcher; 

import android.widget.ImageView; 

import android.view.animation.AnimationUtils; 

import android.view.animation.Animation; 

 

public class MainActivity extends AppCompatActivity { 

 

    ImageSwitcher imageSwitcher; 

    Button btnSwitch; 

    int currentIndex = 0; 

    int[] images = {R.drawable.zoro, R.drawable.madara, R.drawable.aizen}; 

 

    @Override 

    protected void onCreate(Bundle savedInstanceState) { 

        super.onCreate(savedInstanceState); 

        setContentView(R.layout.activity_main); 

 

        imageSwitcher = findViewById(R.id.imageSwitcher); 

        btnSwitch = findViewById(R.id.btnSwitchImage); 

 

        imageSwitcher.setFactory(() -> { 

            ImageView imageView = new ImageView(getApplicationContext()); 

            imageView.setScaleType(ImageView.ScaleType.CENTER_CROP); 

            imageView.setLayoutParams(new ImageSwitcher.LayoutParams( 

                    ImageSwitcher.LayoutParams.MATCH_PARENT, 

                    ImageSwitcher.LayoutParams.MATCH_PARENT)); 

            return imageView; 

        }); 

 

        Animation fadeIn = AnimationUtils.loadAnimation(this, android.R.anim.fade_in); 

        Animation fadeOut = AnimationUtils.loadAnimation(this, android.R.anim.fade_out); 

        imageSwitcher.setInAnimation(fadeIn); 

        imageSwitcher.setOutAnimation(fadeOut); 

 

        imageSwitcher.setImageResource(images[currentIndex]); 

 

        btnSwitch.setOnClickListener(v -> { 

            currentIndex++; 

            if (currentIndex >= images.length) { 

                currentIndex = 0; 

            } 

            imageSwitcher.setImageResource(images[currentIndex]); 

        }); 

    } 

} 

 

 
 
 <?xml version="1.0" encoding="utf-8"?> 

<androidx.constraintlayout.widget.ConstraintLayout 

    xmlns:android="http://schemas.android.com/apk/res/android" 

    xmlns:app="http://schemas.android.com/apk/res-auto" 

    xmlns:tools="http://schemas.android.com/tools" 

    android:layout_width="match_parent" 

    android:layout_height="match_parent" 

    android:padding="16dp" 

    android:background="#101820" 

    tools:context=".MainActivity"> 

 

 

    <TextView 

        android:id="@+id/titleText" 

        android:layout_width="wrap_content" 

        android:layout_height="wrap_content" 

        android:text="Image Switcher" 

        android:textColor="#FFFFFF" 

        android:textSize="22sp" 

        app:layout_constraintTop_toTopOf="parent" 

        app:layout_constraintStart_toStartOf="parent" 

        app:layout_constraintEnd_toEndOf="parent" /> 

 

    <ImageSwitcher 

        android:id="@+id/imageSwitcher" 

        android:layout_width="350dp" 

        android:layout_height="550dp" 

        android:layout_marginTop="24dp" 

        app:layout_constraintTop_toBottomOf="@id/titleText" 

        app:layout_constraintStart_toStartOf="parent" 

        app:layout_constraintEnd_toEndOf="parent" /> 

 

    <Button 

        android:id="@+id/btnSwitchImage" 

        android:layout_width="wrap_content" 

        android:layout_height="wrap_content" 

        android:text="Switch Image" 

        android:layout_marginTop="24dp" 

        app:layout_constraintTop_toBottomOf="@id/imageSwitcher" 

        app:layout_constraintStart_toStartOf="parent" 

        app:layout_constraintEnd_toEndOf="parent" /> 

 

</androidx.constraintlayout.widget.ConstraintLayout> 

 
